/*!
    functional.js (v0.6.15) 12-07-2015
    (c) Lee Crossley <leee@hotmail.co.uk> (http://ilee.co.uk/)
*/
var fjs=function(){"use strict";var a={},b="hardReturn;",c=function(b){if(a.isString(b)){var c=b.match(/(.*)\s*[=-]>\s*(.*)/);c.shift();var d=c.shift().replace(/^\s*|\s(?=\s)|\s*$|,/g,"").split(" "),e=c.shift();return c=(/\s*return\s+/.test(e)?"":"return ")+e,d.push(c),Function.apply({},d)}},d=function(a){return a.length>0?[].slice.call(a,0):[]};a.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},a.isObject=function(b){return a.isFunction(b)||!!b&&"object"==typeof b},a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};var e=function(b){if(!a.isFunction(b)&&(b=c(b),!a.isFunction(b)))throw"fjs Error: Invalid function";return b};return a.curry=function(b){return b=e(b),function c(){var e=d(arguments);if(e.length===b.length)return b.apply(null,e);if(e.length>b.length){var f=b.apply(null,e);return a.fold(b,f,e.slice(b.length))}return function(){var a=d(arguments);return c.apply(null,e.concat(a))}}},a.each=a.curry(function(c,d){if(c=e(c),a.exists(d)&&a.isArray(d))for(var f=0;f<d.length;f+=1)if(c.call(null,d[f],f)===b)return}),a.map=a.curry(function(b,c){b=e(b);var d=[];return a.each(function(){d.push(b.apply(null,arguments))},c),d}),a.fold=a.foldl=a.curry(function(b,c,d){return b=e(b),a.each(function(a,d){c=b.call(null,c,a,d)},d),c}),a.reduce=a.reducel=a.foldll=a.curry(function(b,c){b=e(b);var d=c[0];return c.shift(),a.fold(b,d,c)}),a.clone=function(b){var c=[];return a.each(function(a){c.push(a)},b),c},a.first=a.head=a.take=a.curry(function(c,d){c=e(c);var f;return a.each(function(a){return c.call(null,a)?(f=a,b):void 0},d),f}),a.rest=a.tail=a.drop=a.curry(function(b,c){var d=a.select(b,c);return d.shift(),d}),a.last=a.curry(function(b,c){var d=a.clone(c);return a.first(b,d.reverse())}),a.every=a.all=a.curry(function(c,d){c=e(c);var f=!0;return a.each(function(a){return c.call(null,a)?void 0:(f=!1,b)},d),f}),a.any=a.contains=a.curry(function(c,d){c=e(c);var f=!1;return a.each(function(a){return c.call(null,a)?(f=!0,b):void 0},d),f}),a.select=a.filter=a.curry(function(b,c){b=e(b);var d=[];return a.each(function(a){b.call(null,a)&&d.push(a)},c),d}),a.best=a.curry(function(b,c){b=e(b);var d=function(a,c){return b.call(this,a,c)?a:c};return a.reduce(d,c)}),a["while"]=a.curry(function(c,d){c=e(c);var f=[];return a.each(function(a){return c.call(null,a)?void f.push(a):b},d),f}),a.compose=function(b){var c=a.any(function(b){return!a.isFunction(b)});if(b=d(arguments).reverse(),c(b))throw"fjs Error: Invalid function to compose";return function(){var c=arguments,d=a.each(function(a){c=[a.apply(null,c)]});return d(b),c[0]}},a.partition=a.curry(function(b,c){b=e(b);var d=[],f=[];return a.each(function(a){(b.call(null,a)?d:f).push(a)},c),[d,f]}),a.group=a.curry(function(b,c){b=e(b);var d,f={};return a.each(function(a){d=b.call(null,a),f[d]=f[d]||[],f[d].push(a)},c),f}),a.shuffle=function(b){var c,d;return a.each(function(a,e){c=Math.floor(Math.random()*(e+1)),d=b[e],b[e]=b[c],b[c]=d},b),b},a.toArray=function(b){return a.map(function(a){return[a,b[a]]},Object.keys(b))},a.apply=a.curry(function(b,c){var d=[];return a.isArray(b)&&(d=[].slice.call(b,1),b=b[0]),a.map(function(a){return a[b].apply(a,d)},c)}),a.assign=a.extend=a.curry(function(b,c){return a.each(function(a){c[a]=b[a]},Object.keys(b)),c}),a.prop=function(a){return function(b){return b[a]}},a.pluck=a.curry(function(b,c){return a.map(a.prop(b),c)}),a.nub=a.unique=a.distinct=a.curry(function(b,c){var d=c.length>0?[c[0]]:[];return a.each(function(c){a.any(a.curry(b)(c),d)||(d[d.length]=c)},c),d}),a.exists=function(a){return null!=a},a.truthy=function(b){return a.exists(b)&&b!==!1},a.falsy=function(b){return!a.truthy(b)},a.each(function(b){a["is"+b]=function(a){return Object.prototype.toString.call(a)==="[object "+b+"]"}},["Arguments","Date","Number","RegExp","String"]),a}();"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=fjs),exports.fjs=fjs);